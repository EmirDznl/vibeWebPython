{% load static %}

<link rel="stylesheet" href="{% static 'public/navbar/navbar.css' %}">


<nav class="navbar navbar-expand-lg custom-navbar shadow-sm sticky-top "style='padding-top: 0px;'>
  <div class="container "style='padding-top: 10px;'>
    <a class="navbar-brand fw-bold text-primary" href="{% url 'core' %}">
      <img src="{% static 'public/navbar/logo.svg' %}" alt="MySite Logo" height="40">
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link" href="/">Ana Sayfa</a>
        </li>

        <li class="nav-item dropdown position-static">
            <a class="nav-link dropdown-toggle" href="/products/" id="productsDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Ürünler</a>

    <div class="dropdown-menu mega-menu border-0 shadow-lg" aria-labelledby="productsDropdown ">

    <div class="row g-5 justify-content-center">
      <div class="col-auto">
        <h6 class="dropdown-header"><i class="bi bi-boxes"></i>ERP KURUMSAL</h6>
        <a class="dropdown-item" href="{% url "small" %}"><i class="bi bi-person-fill"></i>Mikro İşletmeler</a>
        <a class="dropdown-item" href="{% url "middle" %}"><i class="bi bi-people-fill"></i>Orta Ölçekli İşletmeler</a>
        <a class="dropdown-item" href="{% url "enterprise" %}"><i class="bi bi-building-fill"></i>Büyük Ölçekli İşletmeler</a>
      </div>

      <div class="col-auto">
        <h6 class="dropdown-header"><i class="bi bi-person-lines-fill"></i>İK & BORDRO</h6>
        <a class="dropdown-item" href="{%url 'payroll' %}"><i class="bi bi-cash-stack"></i>Bordro Yönetimi</a>
        <a class="dropdown-item" href="{%url 'hrManagement' %}"><i class="bi bi-file-person"></i>İK Yönetimi</a>
      </div>

      <div class="col-auto">
        <h6 class="dropdown-header"><i class="bi bi-diagram-3"></i>İŞ AKIŞ YÖNETİMİ</h6>
        <a class="dropdown-item" href="{% url "workflow" %}"><i class="bi bi-arrow-down-up"></i>Logo Flow</a>
      </div>

      <div class="col-auto">
        <h6 class="dropdown-header"><i class="bi bi-house-door-fill"></i>DEPO & WMS</h6>
        <a class="dropdown-item" href="{% url 'smallWareHouse' %}"><i class="bi bi-box"></i>Küçük İşletmeler (Standart)</a>
        <a class="dropdown-item" href="{% url 'middleWareHouse' %}"><i class="bi bi-truck-flatbed"></i>Orta & Büyük İşletmeler (Gelişmiş)</a>
      </div>

    </div>

    <div class="row g-5 mt-1 justify-content-center">
      <div class="col-auto">
        <h6 class="dropdown-header"><i class="bi bi-bar-chart-line-fill"></i>İŞ ANALİTİĞİ</h6>
        <a class="dropdown-item" href="{%url 'data_report' %}"><i class="bi bi-pie-chart-fill"></i>Veri Analizi & Raporlama</a>
        <a class="dropdown-item" href="{%url 'budget_management' %}"><i class="bi bi-calendar2-check-fill"></i>Bütçe Yönetimi</a>
      </div>


      <div class="col-auto">
        <h6 class="dropdown-header"><i class="bi bi-envelope-check-fill"></i>E-DÖNÜŞÜM ÇÖZÜMLERİ</h6>
        <a class="dropdown-item" href="{%url 'eBill'%}"><i class="bi bi-receipt-cutoff"></i>e-Fatura & e-Arşiv</a>
        <a class="dropdown-item" href="{%url 'eBook'%}"><i class="bi bi-truck-front-fill"></i>e-İrsaliye & e-Defter</a>
        <a class="dropdown-item" href="{%url 'eAgreement'%}"><i class="bi bi-mailbox2-flag"></i>e-Mutabakat</a>
      </div>

      <div class="col-auto">
        <h6 class="dropdown-header"><i class="bi bi-headset"></i>CRM & SATIŞ YÖNETİMİ</h6>
        <a class="dropdown-item" href="{%url 'crm'%}"><i class="bi bi-heart-fill"></i>Müşteri İlişkileri Yönetimi</a>
      </div>

    </div>

        </li>
  <li class="nav-item dropdown position-static">
    <a class="nav-link dropdown-toggle" href="/services/" id="servicesDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
      Hizmetler
    </a>

    <div class="dropdown-menu mega-menu border-0 shadow-lg" aria-labelledby="servicesDropdown">

      <div class="row g-5 justify-content-center">
        <div class="col-auto">
          <h6 class="dropdown-header"><i class="bi bi-diagram-3"></i>PROJE YÖNETİMİ</h6>
          <a class="dropdown-item" href="{% url 'erpManagement' %}"><i class="bi bi-kanban"></i>ERP Proje Yönetimi</a>
          <a class="dropdown-item" href="{% url 'swManagement' %}"><i class="bi bi-code-square"></i>Yazılım Projelendirme</a>
          <a class="dropdown-item" href="{% url 'integrationManagement' %}"><i class="bi bi-plug"></i>Entegrasyon Yönetimi</a>
        </div>

        <div class="col-auto">
          <h6 class="dropdown-header"><i class="bi bi-headset"></i>DESTEK HİZMETLERİ</h6>
          <a class="dropdown-item" href="{% url 'remoteSupport' %}"><i class="bi bi-person-workspace"></i>Uzaktan Destek</a>
          <a class="dropdown-item" href="{% url 'onSiteSupport' %}"><i class="bi bi-tools"></i>Yerinde Destek</a>
        </div>

        <div class="col-auto">
          <h6 class="dropdown-header"><i class="bi bi-server"></i>SUNUCU & VERİTABANI</h6>
          <a class="dropdown-item" href="{% url 'cloud' %}"><i class="bi bi-cloud"></i>Bulut Sunucu Yönetimi</a>
          <a class="dropdown-item" href="{% url 'databaseMaintenance' %}"><i class="bi bi-database"></i>Veritabanı Bakım Hizmetleri</a>
        </div>
      </div>

      <div class="row g-5 mt-1 justify-content-center">
        <div class="col-auto">
          <h6 class="dropdown-header"><i class="bi bi-code-slash"></i>YAZILIM GELİŞTİRME</h6>
          <a class="dropdown-item" href="{% url 'mobileAppDev' %}"><i class="bi bi-phone"></i>Mobil Uygulama</a>
          <a class="dropdown-item" href="{% url 'webAppDev' %}"><i class="bi bi-browser-chrome"></i>Web Uygulamaları</a>
          <a class="dropdown-item" href="{% url 'desktopAppDev' %}"><i class="bi bi-laptop"></i>Masaüstü Uygulamaları</a>
          <a class="dropdown-item" href="{% url 'apiDevelopment' %}"><i class="bi bi-diagram-3-fill"></i>Servis Geliştirme</a>
        </div>

        <div class="col-auto">
          <h6 class="dropdown-header"><i class="bi bi-people"></i>DANIŞMANLIK & EĞİTİM</h6>
          <a class="dropdown-item" href="{% url 'digiTransf' %}"><i class="bi bi-lightbulb"></i>Dijital Dönüşüm Danışmanlığı</a>
          <a class="dropdown-item" href="{% url 'workflowConsulting' %}"><i class="bi bi-arrow-repeat"></i>İş Akış Yönetimi Danışmanlığı</a>
          <a class="dropdown-item" href="{% url 'requirementsAnalysis' %}"><i class="bi bi-search"></i>İhtiyaç Analizi</a>
          <a class="dropdown-item" href="{% url 'swTraining' %}"><i class="bi bi-journal-text"></i>ERP - Yazılım Eğitimleri</a>
        </div>

      </div>
    </div>
  </li>
        <li class="nav-item"><a class="nav-link" href="{% url "about" %}">Hakkımızda</a></li>
        <li class="nav-item"><a class="nav-link" href="/references/">Referanslar</a></li>
        <li class="nav-item"><a class="nav-link" href="/contact/">İletişim</a></li>
    </div>

</ul>

      <div class="d-flex align-items-center">
        <a href="/teklif/" class="btn btn-primary me-3">Teklif Al</a>
        
        <i class="bi bi-moon-fill me-3" id="dark-mode-toggle" style="cursor: pointer; font-size: 1.25rem;"></i>

        
        <div class="form-check form-switch">

          <a href="?lang=tr" class="btn btn-sm {% if lang == 'tr' %}btn-primary{% else %}btn-outline-primary{% endif %}">Türkçe</a>

          <input type="hidden" class="form-check-input" type="checkbox" id="lang-toggle" {% if LANGUAGE_CODE == 'en' %}checked{% endif %}>
          
          <a href="?lang=en" class="btn btn-sm {% if lang == 'en' %}btn-primary{% else %}btn-outline-primary{% endif %}">English</a>

        </div>
      </div>


    </div>
  </div>
</nav>


<script>
document.getElementById("lang-toggle").addEventListener("change", function() {
    const currentLang = "{{ LANGUAGE_CODE }}";
    const newLang = (currentLang === "en") ? "tr" : "en";

    const path = window.location.pathname;
    let parts = path.split("/");

    if (parts[1] === "en" || parts[1] === "tr") {
        parts[1] = newLang;
    } else {
        parts.splice(1, 0, newLang);
    }
    window.location.href = parts.join("/");
});


document.addEventListener("DOMContentLoaded", () => {
    const toggle = document.getElementById('dark-mode-toggle');
    const body = document.body;

    // 1. Sayfa yüklendiğinde ayarı kontrol et (Vücut sınıfı yoksa body.dark-mode sınıfı eklenmelidir)
    if (localStorage.getItem('theme') === 'dark') {
        // Not: Bu navbar kodu tek başına çalışmaz, body tag'ına dark-mode sınıfı eklenmelidir.
        // Varsayalım ki bu script body tag'ının hemen altında.
        body.classList.add('dark-mode');
        toggle.classList.remove('bi-moon-fill');
        toggle.classList.add('bi-sun-fill');
    }

    // 2. Tıklama olayını dinle
    toggle.addEventListener('click', () => {
        body.classList.toggle('dark-mode');
        
        // İkonu ve Local Storage'ı güncelle
        if (body.classList.contains('dark-mode')) {
            localStorage.setItem('theme', 'dark');
            toggle.classList.remove('bi-moon-fill');
            toggle.classList.add('bi-sun-fill');
        } else {
            localStorage.setItem('theme', 'light');
            toggle.classList.remove('bi-sun-fill');
            toggle.classList.add('bi-moon-fill');
        }
    });
});
</script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">